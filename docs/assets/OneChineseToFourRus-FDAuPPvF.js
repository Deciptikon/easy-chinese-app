import{_ as u,c as o,a as t,f as d,t as c,F as w,g as m,o as l,n as g}from"./index-DWh21b2q.js";const f={data(){return{characters:[{char:"人",meaning:"человек",pinyin:"rén"},{char:"水",meaning:"вода",pinyin:"shuǐ"},{char:"火",meaning:"огонь",pinyin:"huǒ"},{char:"山",meaning:"гора",pinyin:"shān"},{char:"木",meaning:"дерево",pinyin:"mù"}],currentCharacter:{},options:[],correctAnswers:0,wrongAnswers:0,selectedAnswer:null}},computed:{accuracy(){const e=this.correctAnswers+this.wrongAnswers;return e>0?Math.round(this.correctAnswers/e*100):0}},mounted(){this.loadNewQuestion(),this.$refs.gameContainer.focus()},methods:{loadNewQuestion(){this.selectedAnswer=null,this.currentCharacter=this.characters[Math.floor(Math.random()*this.characters.length)];const r=this.characters.map(a=>a.meaning).filter(a=>a!==this.currentCharacter.meaning).sort(()=>Math.random()-.5).slice(0,3);this.options=[...r,this.currentCharacter.meaning].sort(()=>Math.random()-.5),this.$nextTick(()=>{this.$refs.gameContainer.focus()})},checkAnswer(e){this.selectedAnswer=e,e===this.currentCharacter.meaning?this.correctAnswers++:this.wrongAnswers++},handleKeyDown(e){if(this.selectedAnswer!==null){(e.key==="+"||e.key==="=")&&this.loadNewQuestion();return}if(e.key>="1"&&e.key<="4"){const r=parseInt(e.key)-1;r<this.options.length&&this.checkAnswer(this.options[r])}}}},y={class:"character-display"},A={class:"character"},C={class:"pinyin"},p={class:"options"},_=["onClick","disabled"],k={class:"score"};function v(e,r,a,b,n,i){return l(),o("div",{class:"game-container",tabindex:"0",onKeydown:r[1]||(r[1]=(...s)=>i.handleKeyDown&&i.handleKeyDown(...s)),ref:"gameContainer"},[r[2]||(r[2]=t("h1",null,"Учим китайские иероглифы",-1)),t("div",y,[t("div",A,c(n.currentCharacter.char),1),t("div",C,c(n.currentCharacter.pinyin),1)]),t("div",p,[(l(!0),o(w,null,m(n.options,(s,h)=>(l(),o("button",{key:h,onClick:x=>i.checkAnswer(s),class:g(["option-btn",{correct:n.selectedAnswer===s&&s===n.currentCharacter.meaning,incorrect:n.selectedAnswer===s&&s!==n.currentCharacter.meaning,revealed:n.selectedAnswer&&s===n.currentCharacter.meaning}]),disabled:n.selectedAnswer!==null,ref_for:!0,ref:"optionButtons"},c(h+1)+". "+c(s),11,_))),128))]),t("div",k,[t("div",null,"Правильно: "+c(n.correctAnswers),1),t("div",null,"Неправильно: "+c(n.wrongAnswers),1),t("div",null,"Процент правильных: "+c(i.accuracy)+"%",1)]),n.selectedAnswer?(l(),o("button",{key:0,onClick:r[0]||(r[0]=(...s)=>i.loadNewQuestion&&i.loadNewQuestion(...s)),class:"next-btn",ref:"nextButton"}," Следующий вопрос (+) ",512)):d("",!0)],544)}const N=u(f,[["render",v],["__scopeId","data-v-4af74229"]]);export{N as default};
